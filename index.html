<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Reddit Inbox</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="src/style.css">
</head>

<body>
    <div id="main">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div id="nav" class="container-fluid text-center navbar-text">
                <a id="refresh" href="#">
                    <button v-on:click="refreshMail()" type="button" class="btn btn-default window_buttons btn-sm" title="Refresh your Reddit messages"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></button>
                </a>
                <a id="inbox" href="#">
                    <button v-on:click="openRedditInbox()" type="button" class="btn btn-default window_buttons btn-sm" title="Go to your Reddit inbox"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></button>
                </a>
                ReddiTray
                <a id="minimize" href="#">
                    <button v-on:click="minimizeApp()" type="button" class="btn btn-default window_buttons btn-sm" title="Minimize"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></button>
                </a>
                <a href="#" id="quit">
                    <button v-on:click="quitApp()" type="button" class="btn btn-default window_buttons btn-sm" title="Quit"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
                </a>
                <br>
                <div class="col-xs-6 col-sm-12">
                    <a href="#">
                        <h5 id="username" class="text-left" v-on:click="openUserProfile()">{{user.name}}</h5>
                    </a>
                </div>
                <div class="col-xs-6 col-sm-12">
                    <h5 id="karma" class="text-right">({{user.karma.link}}, {{user.karma.comment}})</h5>
                </div>
            </div>
        </nav>

        <div class="container">
            <div id="mail" v-show="authenticated">
                <div id="loading" v-show="loading">
                    <br>
                    <br>
                    <br> Your messages are loading.
                </div>
                <ul id="mail_list" class="list-group">
                    <li v-repeat="mail" v-class="unread: unread" v-on:click="getContext($index)" class="list-group-item list-group-item-action">
                        <h5 class="list-group-item-heading author">{{author}}</h5>
                        <p class="thread_title">{{thread}}</p>
                        <p class="list-group-item-text message_body">{{message}}</p>
                        <p class="date">{{date}}</p>
                        <p class="subreddit text-right" v-on="click: goToSubreddit($index)">{{subreddit}}</p>
                    </li>
                </ul>
                <br>
                <br>
                <button v-on:click="" id="authenticate" type="button" class="btn btn-primary btn-large">Load more</button>
            </div>

            <div id="auth_gate" v-show="!authenticated">
                <br>
                <br>
                <br>
                <div class="row">
                    <h4 class="text-center">Welcome to ReddiTray!<br>Please sign in.</h4>
                </div>
                <div class="row">
                    <button v-on:click="authenticateUser()" id="authenticate" type="button" class="btn btn-primary btn-large">Sign in to Reddit</button>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="src/vue.min.js"></script>
<script src="src/reddit.js"></script>
<script src="src/app.js"></script>

</html>
